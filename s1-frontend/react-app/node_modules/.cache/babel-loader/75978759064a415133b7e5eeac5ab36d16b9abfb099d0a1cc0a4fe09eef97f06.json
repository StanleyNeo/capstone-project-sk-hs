{"ast":null,"code":"const COURSES_API_URL = 'http://localhost:5001'; // AI & Recommendations\nconst SCHOOLS_API_URL = 'http://localhost:5000'; // MongoDB Analytics (Courses, Schools, Stats)\n\nclass ApiService {\n  // ========== AUTHENTICATION (Port 5001) ==========\n  static async register(userData) {\n    try {\n      const response = await fetch(`${COURSES_API_URL}/api/register`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Registration error:', error);\n      return {\n        success: false,\n        error: 'Connection failed'\n      };\n    }\n  }\n  static async login(credentials) {\n    try {\n      const response = await fetch(`${COURSES_API_URL}/api/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Login error:', error);\n      return {\n        success: false,\n        error: 'Connection failed'\n      };\n    }\n  }\n\n  // ========== COURSES (✅ FIXED: Use Port 5000 for real courses) ==========\n  static async getCourses() {\n    try {\n      // ✅ CORRECT: Use MongoDB backend (Port 5000) — it has real course data\n      const response = await fetch(`${SCHOOLS_API_URL}/api/courses`);\n      const data = await response.json();\n      return data.success ? data.data || [] : [];\n    } catch (error) {\n      console.error('Error fetching courses:', error);\n      return [];\n    }\n  }\n  static async getCourseById(id) {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/courses/${id}`);\n      const data = await response.json();\n      return data.success ? data.data : null;\n    } catch (error) {\n      console.error('Error fetching course:', error);\n      return null;\n    }\n  }\n  static async enrollCourse(userId, courseId) {\n    try {\n      // ✅ Use AI backend for enrollment logic (Port 5001)\n      const response = await fetch(`${COURSES_API_URL}/enroll`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId,\n          courseId\n        })\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Error enrolling:', error);\n      return {\n        success: false,\n        error: 'Enrollment failed'\n      };\n    }\n  }\n\n  // ========== AI & CHATBOT (Port 5001) ==========\n  static async getAiRecommendations(interest, level) {\n    try {\n      const response = await fetch(`${COURSES_API_URL}/api/ai/recommend`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          interest,\n          level\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        return {\n          message: data.message || 'AI Recommendations',\n          recommendations: data.recommendations || [],\n          courses: data.courses || data.recommendations || []\n        };\n      } else {\n        throw new Error(data.error || 'Failed to get recommendations');\n      }\n    } catch (error) {\n      console.error('AI Recommendation error:', error);\n      return this.getFallbackRecommendations(interest, level);\n    }\n  }\n  static getFallbackRecommendations(interest, level) {\n    const allCourses = [{\n      id: '1',\n      title: 'Python Programming',\n      description: 'Learn Python programming from scratch',\n      category: 'Programming',\n      level: 'Beginner',\n      instructor: 'John Smith',\n      duration: '7 weeks',\n      rating: 4.5\n    }, {\n      id: '2',\n      title: 'Web Development Fundamentals',\n      description: 'Learn HTML, CSS, and JavaScript to build modern websites',\n      category: 'Web Development',\n      level: 'Beginner',\n      instructor: 'Sarah Johnson',\n      duration: '6 weeks',\n      rating: 4.7\n    }, {\n      id: '3',\n      title: 'Data Science with Python',\n      description: 'Introduction to data science, analysis, and visualization',\n      category: 'Data Science',\n      level: 'Intermediate',\n      instructor: 'Michael Chen',\n      duration: '8 weeks',\n      rating: 4.7\n    }, {\n      id: '4',\n      title: 'React for Beginners',\n      description: 'Learn React.js to build modern web applications',\n      category: 'Web Development',\n      level: 'Beginner',\n      instructor: 'Emma Wilson',\n      duration: '6 weeks',\n      rating: 4.7\n    }, {\n      id: '5',\n      title: 'Machine Learning Fundamentals',\n      description: 'Introduction to AI and machine learning concepts',\n      category: 'AI/ML',\n      level: 'Intermediate',\n      instructor: 'Dr. AI Expert',\n      duration: '10 weeks',\n      rating: 4.6\n    }];\n    const filtered = allCourses.filter(c => (c.title.toLowerCase().includes(interest.toLowerCase()) || c.description.toLowerCase().includes(interest.toLowerCase()) || c.category.toLowerCase().includes(interest.toLowerCase())) && c.level.toLowerCase() === level.toLowerCase());\n    return {\n      message: `Found ${filtered.length} courses for \"${interest}\" at ${level} level`,\n      recommendations: filtered,\n      courses: filtered\n    };\n  }\n  static async sendChatMessage(message) {\n    try {\n      const response = await fetch(`${COURSES_API_URL}/api/hybrid-ai/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message\n        })\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('AI Chat error:', error);\n      return {\n        success: false,\n        response: \"I'm having connection issues. Please try again.\",\n        provider: 'error'\n      };\n    }\n  }\n\n  // ========== ANALYTICS & SEARCH (Port 5000) ==========\n  static async getStats() {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/stats`);\n      return await response.json();\n    } catch (error) {\n      console.error('Stats error:', error);\n      return {\n        success: false,\n        data: {\n          users: 0,\n          courses: 0,\n          enrollments: 0\n        }\n      };\n    }\n  }\n\n  // ✅ FIXED: Added missing /api/analytics/summary → no more 404\n  static async getAnalyticsSummary() {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/analytics/summary`);\n      return await response.json();\n    } catch (error) {\n      var _stats$data, _stats$data2, _stats$data3;\n      console.error('Analytics summary error:', error);\n      // Fallback to /api/stats + manual calculation\n      const stats = await this.getStats();\n      return {\n        success: true,\n        data: {\n          totals: {\n            users: ((_stats$data = stats.data) === null || _stats$data === void 0 ? void 0 : _stats$data.users) || 0,\n            courses: ((_stats$data2 = stats.data) === null || _stats$data2 === void 0 ? void 0 : _stats$data2.courses) || 0,\n            enrollments: ((_stats$data3 = stats.data) === null || _stats$data3 === void 0 ? void 0 : _stats$data3.enrollments) || 0,\n            schools: 5\n          },\n          recentEnrollments: [],\n          topCourses: [],\n          averageRating: 4.6,\n          completionRate: 65,\n          activeUsers: 2,\n          database: 'in-memory',\n          timestamp: new Date().toISOString()\n        }\n      };\n    }\n  }\n  static async searchCourses(query) {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/search/courses?q=${encodeURIComponent(query)}`);\n      return await response.json();\n    } catch (error) {\n      console.error('Search error:', error);\n      return {\n        success: false,\n        query,\n        results: [],\n        count: 0\n      };\n    }\n  }\n  static async getUsers() {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/users`);\n      return await response.json();\n    } catch (error) {\n      console.error('Users error:', error);\n      return {\n        success: false,\n        data: [],\n        count: 0\n      };\n    }\n  }\n  static async getEnrollments() {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/enrollments`);\n      return await response.json();\n    } catch (error) {\n      console.error('Enrollments error:', error);\n      return {\n        success: false,\n        data: [],\n        count: 0\n      };\n    }\n  }\n  static async getCoursesFromAnalytics() {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/courses`);\n      const data = await response.json();\n      return data.success ? {\n        success: true,\n        data: data.data || [],\n        count: data.count || 0\n      } : {\n        success: false,\n        data: [],\n        count: 0\n      };\n    } catch (error) {\n      console.error('Courses error:', error);\n      return {\n        success: false,\n        data: [],\n        count: 0\n      };\n    }\n  }\n  static async getSchools() {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools`);\n      const data = await response.json();\n      return data.success ? data.data || [] : [];\n    } catch (error) {\n      console.error('Error fetching schools:', error);\n      return [];\n    }\n  }\n  static async addSchool(schoolData) {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(schoolData)\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Error adding school:', error);\n      return {\n        success: false,\n        error: 'Failed to add school'\n      };\n    }\n  }\n  static async updateSchool(id, schoolData) {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(schoolData)\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Error updating school:', error.message);\n      return {\n        success: false,\n        error: error.message || 'Failed to update school'\n      };\n    }\n  }\n  static async deleteSchool(id) {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools/${id}`, {\n        method: 'DELETE'\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Error deleting school:', error);\n      return {\n        success: false,\n        error: 'Failed to delete school'\n      };\n    }\n  }\n\n  // ========== HEALTH CHECKS ==========\n  static async checkCoursesBackend() {\n    try {\n      const response = await fetch(`${COURSES_API_URL}/api/health`);\n      return await response.json();\n    } catch (error) {\n      return {\n        success: false,\n        status: 'unavailable'\n      };\n    }\n  }\n  static async checkAnalyticsBackend() {\n    try {\n      const response = await fetch(`${SCHOOLS_API_URL}/api/health`);\n      return await response.json();\n    } catch (error) {\n      return {\n        success: false,\n        status: 'unavailable'\n      };\n    }\n  }\n}\nexport default ApiService;","map":{"version":3,"names":["COURSES_API_URL","SCHOOLS_API_URL","ApiService","register","userData","response","fetch","method","headers","body","JSON","stringify","json","error","console","success","login","credentials","getCourses","data","getCourseById","id","enrollCourse","userId","courseId","getAiRecommendations","interest","level","message","recommendations","courses","Error","getFallbackRecommendations","allCourses","title","description","category","instructor","duration","rating","filtered","filter","c","toLowerCase","includes","length","sendChatMessage","provider","getStats","users","enrollments","getAnalyticsSummary","_stats$data","_stats$data2","_stats$data3","stats","totals","schools","recentEnrollments","topCourses","averageRating","completionRate","activeUsers","database","timestamp","Date","toISOString","searchCourses","query","encodeURIComponent","results","count","getUsers","getEnrollments","getCoursesFromAnalytics","getSchools","addSchool","schoolData","updateSchool","deleteSchool","checkCoursesBackend","status","checkAnalyticsBackend"],"sources":["D:/capstone-2025/qw-capstone-project/capstone-project-sk/s1-frontend/react-app/src/services/api.js"],"sourcesContent":["const COURSES_API_URL = 'http://localhost:5001';  // AI & Recommendations\r\nconst SCHOOLS_API_URL = 'http://localhost:5000';  // MongoDB Analytics (Courses, Schools, Stats)\r\n\r\nclass ApiService {\r\n  // ========== AUTHENTICATION (Port 5001) ==========\r\n  static async register(userData) {\r\n    try {\r\n      const response = await fetch(`${COURSES_API_URL}/api/register`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(userData)\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      return { success: false, error: 'Connection failed' };\r\n    }\r\n  }\r\n\r\n  static async login(credentials) {\r\n    try {\r\n      const response = await fetch(`${COURSES_API_URL}/api/login`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(credentials)\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      return { success: false, error: 'Connection failed' };\r\n    }\r\n  }\r\n\r\n  // ========== COURSES (✅ FIXED: Use Port 5000 for real courses) ==========\r\n  static async getCourses() {\r\n    try {\r\n      // ✅ CORRECT: Use MongoDB backend (Port 5000) — it has real course data\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/courses`);\r\n      const data = await response.json();\r\n      return data.success ? data.data || [] : [];\r\n    } catch (error) {\r\n      console.error('Error fetching courses:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  static async getCourseById(id) {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/courses/${id}`);\r\n      const data = await response.json();\r\n      return data.success ? data.data : null;\r\n    } catch (error) {\r\n      console.error('Error fetching course:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static async enrollCourse(userId, courseId) {\r\n    try {\r\n      // ✅ Use AI backend for enrollment logic (Port 5001)\r\n      const response = await fetch(`${COURSES_API_URL}/enroll`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ userId, courseId })\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error enrolling:', error);\r\n      return { success: false, error: 'Enrollment failed' };\r\n    }\r\n  }\r\n\r\n  // ========== AI & CHATBOT (Port 5001) ==========\r\n  static async getAiRecommendations(interest, level) {\r\n    try {\r\n      const response = await fetch(`${COURSES_API_URL}/api/ai/recommend`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ interest, level })\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        return {\r\n          message: data.message || 'AI Recommendations',\r\n          recommendations: data.recommendations || [],\r\n          courses: data.courses || data.recommendations || []\r\n        };\r\n      } else {\r\n        throw new Error(data.error || 'Failed to get recommendations');\r\n      }\r\n    } catch (error) {\r\n      console.error('AI Recommendation error:', error);\r\n      return this.getFallbackRecommendations(interest, level);\r\n    }\r\n  }\r\n\r\n  static getFallbackRecommendations(interest, level) {\r\n    const allCourses = [\r\n      {\r\n        id: '1',\r\n        title: 'Python Programming',\r\n        description: 'Learn Python programming from scratch',\r\n        category: 'Programming',\r\n        level: 'Beginner',\r\n        instructor: 'John Smith',\r\n        duration: '7 weeks',\r\n        rating: 4.5\r\n      },\r\n      {\r\n        id: '2',\r\n        title: 'Web Development Fundamentals',\r\n        description: 'Learn HTML, CSS, and JavaScript to build modern websites',\r\n        category: 'Web Development',\r\n        level: 'Beginner',\r\n        instructor: 'Sarah Johnson',\r\n        duration: '6 weeks',\r\n        rating: 4.7\r\n      },\r\n      {\r\n        id: '3',\r\n        title: 'Data Science with Python',\r\n        description: 'Introduction to data science, analysis, and visualization',\r\n        category: 'Data Science',\r\n        level: 'Intermediate',\r\n        instructor: 'Michael Chen',\r\n        duration: '8 weeks',\r\n        rating: 4.7\r\n      },\r\n      {\r\n        id: '4',\r\n        title: 'React for Beginners',\r\n        description: 'Learn React.js to build modern web applications',\r\n        category: 'Web Development',\r\n        level: 'Beginner',\r\n        instructor: 'Emma Wilson',\r\n        duration: '6 weeks',\r\n        rating: 4.7\r\n      },\r\n      {\r\n        id: '5',\r\n        title: 'Machine Learning Fundamentals',\r\n        description: 'Introduction to AI and machine learning concepts',\r\n        category: 'AI/ML',\r\n        level: 'Intermediate',\r\n        instructor: 'Dr. AI Expert',\r\n        duration: '10 weeks',\r\n        rating: 4.6\r\n      }\r\n    ];\r\n    const filtered = allCourses.filter(c =>\r\n      (c.title.toLowerCase().includes(interest.toLowerCase()) ||\r\n       c.description.toLowerCase().includes(interest.toLowerCase()) ||\r\n       c.category.toLowerCase().includes(interest.toLowerCase())) &&\r\n      c.level.toLowerCase() === level.toLowerCase()\r\n    );\r\n    return {\r\n      message: `Found ${filtered.length} courses for \"${interest}\" at ${level} level`,\r\n      recommendations: filtered,\r\n      courses: filtered\r\n    };\r\n  }\r\n\r\n  static async sendChatMessage(message) {\r\n    try {\r\n      const response = await fetch(`${COURSES_API_URL}/api/hybrid-ai/chat`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ message })\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('AI Chat error:', error);\r\n      return {\r\n        success: false,\r\n        response: \"I'm having connection issues. Please try again.\",\r\n        provider: 'error'\r\n      };\r\n    }\r\n  }\r\n\r\n  // ========== ANALYTICS & SEARCH (Port 5000) ==========\r\n  static async getStats() {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/stats`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Stats error:', error);\r\n      return { success: false, data: { users: 0, courses: 0, enrollments: 0 } };\r\n    }\r\n  }\r\n\r\n  // ✅ FIXED: Added missing /api/analytics/summary → no more 404\r\n  static async getAnalyticsSummary() {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/analytics/summary`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Analytics summary error:', error);\r\n      // Fallback to /api/stats + manual calculation\r\n      const stats = await this.getStats();\r\n      return {\r\n        success: true,\r\n        data: {\r\n          totals: {\r\n            users: stats.data?.users || 0,\r\n            courses: stats.data?.courses || 0,\r\n            enrollments: stats.data?.enrollments || 0,\r\n            schools: 5\r\n          },\r\n          recentEnrollments: [],\r\n          topCourses: [],\r\n          averageRating: 4.6,\r\n          completionRate: 65,\r\n          activeUsers: 2,\r\n          database: 'in-memory',\r\n          timestamp: new Date().toISOString()\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  static async searchCourses(query) {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/search/courses?q=${encodeURIComponent(query)}`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Search error:', error);\r\n      return { success: false, query, results: [], count: 0 };\r\n    }\r\n  }\r\n\r\n  static async getUsers() {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/users`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Users error:', error);\r\n      return { success: false, data: [], count: 0 };\r\n    }\r\n  }\r\n\r\n  static async getEnrollments() {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/enrollments`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Enrollments error:', error);\r\n      return { success: false, data: [], count: 0 };\r\n    }\r\n  }\r\n\r\n  static async getCoursesFromAnalytics() {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/courses`);\r\n      const data = await response.json();\r\n      return data.success ? { success: true, data: data.data || [], count: data.count || 0 } : { success: false, data: [], count: 0 };\r\n    } catch (error) {\r\n      console.error('Courses error:', error);\r\n      return { success: false, data: [], count: 0 };\r\n    }\r\n  }\r\n\r\n  static async getSchools() {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools`);\r\n      const data = await response.json();\r\n      return data.success ? data.data || [] : [];\r\n    } catch (error) {\r\n      console.error('Error fetching schools:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  static async addSchool(schoolData) {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(schoolData)\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error adding school:', error);\r\n      return { success: false, error: 'Failed to add school' };\r\n    }\r\n  }\r\n\r\n  static async updateSchool(id, schoolData) {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools/${id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(schoolData)\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error updating school:', error.message);\r\n      return { success: false, error: error.message || 'Failed to update school' };\r\n    }\r\n  }\r\n\r\n  static async deleteSchool(id) {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/schools/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error deleting school:', error);\r\n      return { success: false, error: 'Failed to delete school' };\r\n    }\r\n  }\r\n\r\n  // ========== HEALTH CHECKS ==========\r\n  static async checkCoursesBackend() {\r\n    try {\r\n      const response = await fetch(`${COURSES_API_URL}/api/health`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      return { success: false, status: 'unavailable' };\r\n    }\r\n  }\r\n\r\n  static async checkAnalyticsBackend() {\r\n    try {\r\n      const response = await fetch(`${SCHOOLS_API_URL}/api/health`);\r\n      return await response.json();\r\n    } catch (error) {\r\n      return { success: false, status: 'unavailable' };\r\n    }\r\n  }\r\n}\r\n\r\nexport default ApiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}